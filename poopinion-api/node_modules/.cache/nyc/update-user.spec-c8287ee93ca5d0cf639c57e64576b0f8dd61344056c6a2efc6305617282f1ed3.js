function cov_rea5tg2z8(){var path="C:\\Users\\Alex\\bootcamp\\collab\\skylab-bootcamp-202001\\staff\\alex-park\\poopinion\\poopinion-api\\logic\\update-user.spec.js";var hash="2fd2bcc45891d2323c8e9cab6f1491157b4da86c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Alex\\bootcamp\\collab\\skylab-bootcamp-202001\\staff\\alex-park\\poopinion\\poopinion-api\\logic\\update-user.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:19},end:{line:3,column:34}},"2":{start:{line:4,column:26},end:{line:4,column:30}},"3":{start:{line:5,column:56},end:{line:5,column:81}},"4":{start:{line:6,column:19},end:{line:6,column:43}},"5":{start:{line:7,column:15},end:{line:7,column:34}},"6":{start:{line:8,column:38},end:{line:8,column:45}},"7":{start:{line:10,column:0},end:{line:176,column:2}},"8":{start:{line:12,column:20},end:{line:12,column:52}},"9":{start:{line:14,column:4},end:{line:18,column:5}},"10":{start:{line:15,column:8},end:{line:17,column:28}},"11":{start:{line:16,column:24},end:{line:16,column:99}},"12":{start:{line:20,column:4},end:{line:27,column:6}},"13":{start:{line:21,column:8},end:{line:21,column:33}},"14":{start:{line:22,column:8},end:{line:22,column:39}},"15":{start:{line:23,column:8},end:{line:23,column:44}},"16":{start:{line:24,column:8},end:{line:24,column:41}},"17":{start:{line:25,column:8},end:{line:25,column:35}},"18":{start:{line:26,column:8},end:{line:26,column:58}},"19":{start:{line:29,column:4},end:{line:66,column:6}},"20":{start:{line:30,column:8},end:{line:36,column:9}},"21":{start:{line:31,column:12},end:{line:35,column:44}},"22":{start:{line:33,column:20},end:{line:33,column:80}},"23":{start:{line:35,column:30},end:{line:35,column:43}},"24":{start:{line:38,column:8},end:{line:65,column:9}},"25":{start:{line:39,column:12},end:{line:64,column:72}},"26":{start:{line:41,column:20},end:{line:41,column:41}},"27":{start:{line:42,column:20},end:{line:42,column:52}},"28":{start:{line:43,column:20},end:{line:43,column:58}},"29":{start:{line:44,column:20},end:{line:44,column:54}},"30":{start:{line:45,column:20},end:{line:45,column:50}},"31":{start:{line:46,column:20},end:{line:46,column:56}},"32":{start:{line:49,column:20},end:{line:49,column:167}},"33":{start:{line:51,column:28},end:{line:51,column:53}},"34":{start:{line:53,column:20},end:{line:53,column:41}},"35":{start:{line:54,column:20},end:{line:54,column:65}},"36":{start:{line:55,column:20},end:{line:55,column:65}},"37":{start:{line:56,column:20},end:{line:56,column:71}},"38":{start:{line:57,column:20},end:{line:57,column:67}},"39":{start:{line:58,column:20},end:{line:58,column:56}},"40":{start:{line:59,column:20},end:{line:59,column:54}},"41":{start:{line:60,column:20},end:{line:60,column:58}},"42":{start:{line:62,column:20},end:{line:62,column:66}},"43":{start:{line:64,column:39},end:{line:64,column:71}},"44":{start:{line:68,column:4},end:{line:81,column:6}},"45":{start:{line:69,column:8},end:{line:69,column:59}},"46":{start:{line:69,column:25},end:{line:69,column:58}},"47":{start:{line:71,column:8},end:{line:80,column:9}},"48":{start:{line:72,column:12},end:{line:79,column:32}},"49":{start:{line:73,column:30},end:{line:73,column:76}},"50":{start:{line:76,column:20},end:{line:76,column:55}},"51":{start:{line:77,column:20},end:{line:77,column:82}},"52":{start:{line:83,column:4},end:{line:100,column:6}},"53":{start:{line:84,column:8},end:{line:89,column:9}},"54":{start:{line:85,column:12},end:{line:88,column:32}},"55":{start:{line:86,column:34},end:{line:86,column:42}},"56":{start:{line:87,column:28},end:{line:87,column:88}},"57":{start:{line:91,column:8},end:{line:99,column:9}},"58":{start:{line:92,column:12},end:{line:98,column:32}},"59":{start:{line:93,column:30},end:{line:93,column:76}},"60":{start:{line:95,column:20},end:{line:95,column:55}},"61":{start:{line:96,column:20},end:{line:96,column:82}},"62":{start:{line:102,column:4},end:{line:116,column:6}},"63":{start:{line:103,column:8},end:{line:105,column:9}},"64":{start:{line:103,column:25},end:{line:104,column:28}},"65":{start:{line:107,column:8},end:{line:115,column:9}},"66":{start:{line:108,column:12},end:{line:114,column:32}},"67":{start:{line:109,column:30},end:{line:109,column:76}},"68":{start:{line:111,column:20},end:{line:111,column:55}},"69":{start:{line:112,column:20},end:{line:112,column:82}},"70":{start:{line:118,column:4},end:{line:170,column:6}},"71":{start:{line:120,column:8},end:{line:127,column:9}},"72":{start:{line:121,column:12},end:{line:126,column:32}},"73":{start:{line:123,column:20},end:{line:123,column:28}},"74":{start:{line:124,column:20},end:{line:124,column:29}},"75":{start:{line:129,column:8},end:{line:141,column:10}},"76":{start:{line:130,column:12},end:{line:130,column:28}},"77":{start:{line:131,column:12},end:{line:131,column:120}},"78":{start:{line:131,column:25},end:{line:131,column:70}},"79":{start:{line:133,column:12},end:{line:133,column:23}},"80":{start:{line:134,column:12},end:{line:134,column:120}},"81":{start:{line:134,column:25},end:{line:134,column:70}},"82":{start:{line:136,column:12},end:{line:136,column:27}},"83":{start:{line:137,column:12},end:{line:137,column:120}},"84":{start:{line:137,column:25},end:{line:137,column:70}},"85":{start:{line:139,column:12},end:{line:139,column:20}},"86":{start:{line:140,column:12},end:{line:140,column:120}},"87":{start:{line:140,column:25},end:{line:140,column:70}},"88":{start:{line:143,column:8},end:{line:155,column:10}},"89":{start:{line:144,column:12},end:{line:144,column:29}},"90":{start:{line:145,column:12},end:{line:145,column:110}},"91":{start:{line:145,column:25},end:{line:145,column:57}},"92":{start:{line:147,column:12},end:{line:147,column:24}},"93":{start:{line:148,column:12},end:{line:148,column:110}},"94":{start:{line:148,column:25},end:{line:148,column:57}},"95":{start:{line:150,column:12},end:{line:150,column:28}},"96":{start:{line:151,column:12},end:{line:151,column:110}},"97":{start:{line:151,column:25},end:{line:151,column:57}},"98":{start:{line:153,column:12},end:{line:153,column:36}},"99":{start:{line:154,column:12},end:{line:154,column:110}},"100":{start:{line:154,column:25},end:{line:154,column:57}},"101":{start:{line:157,column:8},end:{line:169,column:10}},"102":{start:{line:158,column:12},end:{line:158,column:33}},"103":{start:{line:159,column:12},end:{line:159,column:132}},"104":{start:{line:159,column:25},end:{line:159,column:71}},"105":{start:{line:161,column:12},end:{line:161,column:28}},"106":{start:{line:162,column:12},end:{line:162,column:132}},"107":{start:{line:162,column:25},end:{line:162,column:71}},"108":{start:{line:164,column:12},end:{line:164,column:32}},"109":{start:{line:165,column:12},end:{line:165,column:132}},"110":{start:{line:165,column:25},end:{line:165,column:71}},"111":{start:{line:167,column:12},end:{line:167,column:25}},"112":{start:{line:168,column:12},end:{line:168,column:132}},"113":{start:{line:168,column:25},end:{line:168,column:71}},"114":{start:{line:172,column:4},end:{line:175,column:5}},"115":{start:{line:173,column:8},end:{line:174,column:46}},"116":{start:{line:174,column:24},end:{line:174,column:45}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:23},end:{line:10,column:24}},loc:{start:{line:10,column:29},end:{line:176,column:1}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:11},end:{line:14,column:12}},loc:{start:{line:15,column:8},end:{line:17,column:28}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:16,column:18},end:{line:16,column:19}},loc:{start:{line:16,column:24},end:{line:16,column:99}},line:16},"3":{name:"(anonymous_3)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:24},end:{line:17,column:27}},line:17},"4":{name:"(anonymous_4)",decl:{start:{line:20,column:15},end:{line:20,column:16}},loc:{start:{line:20,column:21},end:{line:27,column:5}},line:20},"5":{name:"(anonymous_5)",decl:{start:{line:29,column:37},end:{line:29,column:38}},loc:{start:{line:29,column:43},end:{line:66,column:5}},line:29},"6":{name:"(anonymous_6)",decl:{start:{line:30,column:19},end:{line:30,column:20}},loc:{start:{line:31,column:12},end:{line:35,column:44}},line:31},"7":{name:"(anonymous_7)",decl:{start:{line:32,column:22},end:{line:32,column:23}},loc:{start:{line:33,column:20},end:{line:33,column:80}},line:33},"8":{name:"(anonymous_8)",decl:{start:{line:35,column:22},end:{line:35,column:23}},loc:{start:{line:35,column:30},end:{line:35,column:43}},line:35},"9":{name:"(anonymous_9)",decl:{start:{line:38,column:50},end:{line:38,column:51}},loc:{start:{line:39,column:12},end:{line:64,column:72}},line:39},"10":{name:"(anonymous_10)",decl:{start:{line:40,column:22},end:{line:40,column:23}},loc:{start:{line:40,column:30},end:{line:47,column:17}},line:40},"11":{name:"(anonymous_11)",decl:{start:{line:48,column:22},end:{line:48,column:23}},loc:{start:{line:49,column:20},end:{line:49,column:167}},line:49},"12":{name:"(anonymous_12)",decl:{start:{line:51,column:22},end:{line:51,column:23}},loc:{start:{line:51,column:28},end:{line:51,column:53}},line:51},"13":{name:"(anonymous_13)",decl:{start:{line:52,column:22},end:{line:52,column:23}},loc:{start:{line:52,column:30},end:{line:63,column:17}},line:52},"14":{name:"(anonymous_14)",decl:{start:{line:64,column:22},end:{line:64,column:23}},loc:{start:{line:64,column:39},end:{line:64,column:71}},line:64},"15":{name:"(anonymous_15)",decl:{start:{line:68,column:45},end:{line:68,column:46}},loc:{start:{line:68,column:51},end:{line:81,column:5}},line:68},"16":{name:"(anonymous_16)",decl:{start:{line:69,column:19},end:{line:69,column:20}},loc:{start:{line:69,column:25},end:{line:69,column:58}},line:69},"17":{name:"(anonymous_17)",decl:{start:{line:69,column:48},end:{line:69,column:49}},loc:{start:{line:69,column:54},end:{line:69,column:57}},line:69},"18":{name:"(anonymous_18)",decl:{start:{line:71,column:63},end:{line:71,column:64}},loc:{start:{line:72,column:12},end:{line:79,column:32}},line:72},"19":{name:"(anonymous_19)",decl:{start:{line:73,column:22},end:{line:73,column:23}},loc:{start:{line:73,column:28},end:{line:73,column:78}},line:73},"20":{name:"(anonymous_20)",decl:{start:{line:74,column:23},end:{line:74,column:24}},loc:{start:{line:74,column:40},end:{line:78,column:17}},line:74},"21":{name:"(anonymous_21)",decl:{start:{line:79,column:22},end:{line:79,column:23}},loc:{start:{line:79,column:28},end:{line:79,column:31}},line:79},"22":{name:"(anonymous_22)",decl:{start:{line:83,column:45},end:{line:83,column:46}},loc:{start:{line:83,column:51},end:{line:100,column:5}},line:83},"23":{name:"(anonymous_23)",decl:{start:{line:84,column:19},end:{line:84,column:20}},loc:{start:{line:85,column:12},end:{line:88,column:32}},line:85},"24":{name:"(anonymous_24)",decl:{start:{line:86,column:22},end:{line:86,column:23}},loc:{start:{line:86,column:34},end:{line:86,column:42}},line:86},"25":{name:"(anonymous_25)",decl:{start:{line:87,column:22},end:{line:87,column:23}},loc:{start:{line:87,column:28},end:{line:87,column:88}},line:87},"26":{name:"(anonymous_26)",decl:{start:{line:88,column:22},end:{line:88,column:23}},loc:{start:{line:88,column:28},end:{line:88,column:31}},line:88},"27":{name:"(anonymous_27)",decl:{start:{line:91,column:61},end:{line:91,column:62}},loc:{start:{line:92,column:12},end:{line:98,column:32}},line:92},"28":{name:"(anonymous_28)",decl:{start:{line:93,column:22},end:{line:93,column:23}},loc:{start:{line:93,column:28},end:{line:93,column:78}},line:93},"29":{name:"(anonymous_29)",decl:{start:{line:94,column:23},end:{line:94,column:24}},loc:{start:{line:94,column:40},end:{line:97,column:17}},line:94},"30":{name:"(anonymous_30)",decl:{start:{line:98,column:22},end:{line:98,column:23}},loc:{start:{line:98,column:28},end:{line:98,column:31}},line:98},"31":{name:"(anonymous_31)",decl:{start:{line:102,column:37},end:{line:102,column:38}},loc:{start:{line:102,column:43},end:{line:116,column:5}},line:102},"32":{name:"(anonymous_32)",decl:{start:{line:103,column:19},end:{line:103,column:20}},loc:{start:{line:103,column:25},end:{line:104,column:28}},line:103},"33":{name:"(anonymous_33)",decl:{start:{line:104,column:18},end:{line:104,column:19}},loc:{start:{line:104,column:24},end:{line:104,column:27}},line:104},"34":{name:"(anonymous_34)",decl:{start:{line:107,column:61},end:{line:107,column:62}},loc:{start:{line:108,column:12},end:{line:114,column:32}},line:108},"35":{name:"(anonymous_35)",decl:{start:{line:109,column:22},end:{line:109,column:23}},loc:{start:{line:109,column:28},end:{line:109,column:78}},line:109},"36":{name:"(anonymous_36)",decl:{start:{line:110,column:23},end:{line:110,column:24}},loc:{start:{line:110,column:40},end:{line:113,column:17}},line:110},"37":{name:"(anonymous_37)",decl:{start:{line:114,column:22},end:{line:114,column:23}},loc:{start:{line:114,column:28},end:{line:114,column:31}},line:114},"38":{name:"(anonymous_38)",decl:{start:{line:118,column:30},end:{line:118,column:31}},loc:{start:{line:118,column:36},end:{line:170,column:5}},line:118},"39":{name:"(anonymous_39)",decl:{start:{line:120,column:19},end:{line:120,column:20}},loc:{start:{line:121,column:12},end:{line:126,column:32}},line:121},"40":{name:"(anonymous_40)",decl:{start:{line:122,column:22},end:{line:122,column:23}},loc:{start:{line:122,column:34},end:{line:125,column:17}},line:122},"41":{name:"(anonymous_41)",decl:{start:{line:126,column:22},end:{line:126,column:23}},loc:{start:{line:126,column:28},end:{line:126,column:31}},line:126},"42":{name:"(anonymous_42)",decl:{start:{line:129,column:50},end:{line:129,column:51}},loc:{start:{line:129,column:56},end:{line:141,column:9}},line:129},"43":{name:"(anonymous_43)",decl:{start:{line:131,column:19},end:{line:131,column:20}},loc:{start:{line:131,column:25},end:{line:131,column:70}},line:131},"44":{name:"(anonymous_44)",decl:{start:{line:134,column:19},end:{line:134,column:20}},loc:{start:{line:134,column:25},end:{line:134,column:70}},line:134},"45":{name:"(anonymous_45)",decl:{start:{line:137,column:19},end:{line:137,column:20}},loc:{start:{line:137,column:25},end:{line:137,column:70}},line:137},"46":{name:"(anonymous_46)",decl:{start:{line:140,column:19},end:{line:140,column:20}},loc:{start:{line:140,column:25},end:{line:140,column:70}},line:140},"47":{name:"(anonymous_47)",decl:{start:{line:143,column:47},end:{line:143,column:48}},loc:{start:{line:143,column:53},end:{line:155,column:9}},line:143},"48":{name:"(anonymous_48)",decl:{start:{line:145,column:19},end:{line:145,column:20}},loc:{start:{line:145,column:25},end:{line:145,column:57}},line:145},"49":{name:"(anonymous_49)",decl:{start:{line:148,column:19},end:{line:148,column:20}},loc:{start:{line:148,column:25},end:{line:148,column:57}},line:148},"50":{name:"(anonymous_50)",decl:{start:{line:151,column:19},end:{line:151,column:20}},loc:{start:{line:151,column:25},end:{line:151,column:57}},line:151},"51":{name:"(anonymous_51)",decl:{start:{line:154,column:19},end:{line:154,column:20}},loc:{start:{line:154,column:25},end:{line:154,column:57}},line:154},"52":{name:"(anonymous_52)",decl:{start:{line:157,column:51},end:{line:157,column:52}},loc:{start:{line:157,column:57},end:{line:169,column:9}},line:157},"53":{name:"(anonymous_53)",decl:{start:{line:159,column:19},end:{line:159,column:20}},loc:{start:{line:159,column:25},end:{line:159,column:71}},line:159},"54":{name:"(anonymous_54)",decl:{start:{line:162,column:19},end:{line:162,column:20}},loc:{start:{line:162,column:25},end:{line:162,column:71}},line:162},"55":{name:"(anonymous_55)",decl:{start:{line:165,column:19},end:{line:165,column:20}},loc:{start:{line:165,column:25},end:{line:165,column:71}},line:165},"56":{name:"(anonymous_56)",decl:{start:{line:168,column:19},end:{line:168,column:20}},loc:{start:{line:168,column:25},end:{line:168,column:71}},line:168},"57":{name:"(anonymous_57)",decl:{start:{line:172,column:10},end:{line:172,column:11}},loc:{start:{line:173,column:8},end:{line:174,column:46}},line:173},"58":{name:"(anonymous_58)",decl:{start:{line:174,column:18},end:{line:174,column:19}},loc:{start:{line:174,column:24},end:{line:174,column:45}},line:174}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2fd2bcc45891d2323c8e9cab6f1491157b4da86c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_rea5tg2z8=function(){return actualCoverage;};return actualCoverage;}cov_rea5tg2z8();cov_rea5tg2z8().s[0]++;require('dotenv').config();const{expect}=(cov_rea5tg2z8().s[1]++,require('chai'));const{random,floor}=(cov_rea5tg2z8().s[2]++,Math);const{mongoose,models:{User,Toilet,Comment}}=(cov_rea5tg2z8().s[3]++,require('poopinion-data'));const updateUser=(cov_rea5tg2z8().s[4]++,require('./update-user'));const bcrypt=(cov_rea5tg2z8().s[5]++,require('bcryptjs'));const{env:{TEST_MONGODB_URL}}=(cov_rea5tg2z8().s[6]++,process);cov_rea5tg2z8().s[7]++;describe('updateUser',()=>{cov_rea5tg2z8().f[0]++;let name,surname,email,password,age,gender,_id;const GENDERS=(cov_rea5tg2z8().s[8]++,['male','female','non-binary']);cov_rea5tg2z8().s[9]++;before(()=>{cov_rea5tg2z8().f[1]++;cov_rea5tg2z8().s[10]++;return mongoose.connect(TEST_MONGODB_URL,{useNewUrlParser:true,useUnifiedTopology:true}).then(()=>{cov_rea5tg2z8().f[2]++;cov_rea5tg2z8().s[11]++;return Promise.all([User.deleteMany(),Toilet.deleteMany(),Comment.deleteMany()]);}).then(()=>{cov_rea5tg2z8().f[3]++;});});cov_rea5tg2z8().s[12]++;beforeEach(()=>{cov_rea5tg2z8().f[4]++;cov_rea5tg2z8().s[13]++;name=`name-${random()}`;cov_rea5tg2z8().s[14]++;surname=`surname-${random()}`;cov_rea5tg2z8().s[15]++;email=`email-${random()}@mail.com`;cov_rea5tg2z8().s[16]++;password=`password-${random()}`;cov_rea5tg2z8().s[17]++;age=floor(random()*120);cov_rea5tg2z8().s[18]++;gender=GENDERS[floor(random()*GENDERS.length)];});cov_rea5tg2z8().s[19]++;describe('when the user exists',()=>{cov_rea5tg2z8().f[5]++;cov_rea5tg2z8().s[20]++;beforeEach(()=>{cov_rea5tg2z8().f[6]++;cov_rea5tg2z8().s[21]++;return bcrypt.hash(password,10).then(password=>{cov_rea5tg2z8().f[7]++;cov_rea5tg2z8().s[22]++;return User.create({name,surname,email,password,age,gender});}).then(user=>{cov_rea5tg2z8().f[8]++;cov_rea5tg2z8().s[23]++;return _id=user.id;});});cov_rea5tg2z8().s[24]++;it('should succeed on correct user data',()=>{cov_rea5tg2z8().f[9]++;cov_rea5tg2z8().s[25]++;return User.findById(_id).lean().then(user=>{cov_rea5tg2z8().f[10]++;cov_rea5tg2z8().s[26]++;expect(user).to.exist;cov_rea5tg2z8().s[27]++;expect(user.name).to.equal(name);cov_rea5tg2z8().s[28]++;expect(user.surname).to.equal(surname);cov_rea5tg2z8().s[29]++;expect(user.email).to.equal(email);cov_rea5tg2z8().s[30]++;expect(user.age).to.equal(age);cov_rea5tg2z8().s[31]++;expect(user.gender).to.equal(gender);}).then(()=>{cov_rea5tg2z8().f[11]++;cov_rea5tg2z8().s[32]++;return updateUser(_id,{pendejada:'maxima',name:`${name}-updated`,surname:`${surname}-updated`,email:`${email}-updated`,age:age+1},password);}).then(()=>{cov_rea5tg2z8().f[12]++;cov_rea5tg2z8().s[33]++;return User.findById(_id).lean();}).then(user=>{cov_rea5tg2z8().f[13]++;cov_rea5tg2z8().s[34]++;expect(user).to.exist;cov_rea5tg2z8().s[35]++;expect(user._id.toString()).to.be.a('string');cov_rea5tg2z8().s[36]++;expect(user.name).to.equal(`${name}-updated`);cov_rea5tg2z8().s[37]++;expect(user.surname).to.equal(`${surname}-updated`);cov_rea5tg2z8().s[38]++;expect(user.email).to.equal(`${email}-updated`);cov_rea5tg2z8().s[39]++;expect(user.gender).to.equal(gender);cov_rea5tg2z8().s[40]++;expect(user.age).to.equal(age+1);cov_rea5tg2z8().s[41]++;expect(user.pendejada).to.be.undefined;cov_rea5tg2z8().s[42]++;return bcrypt.compare(password,user.password);}).then(validPassword=>{cov_rea5tg2z8().f[14]++;cov_rea5tg2z8().s[43]++;return expect(validPassword).to.be.true;});});});cov_rea5tg2z8().s[44]++;describe('when the user does not exist',()=>{cov_rea5tg2z8().f[15]++;cov_rea5tg2z8().s[45]++;beforeEach(()=>{cov_rea5tg2z8().f[16]++;cov_rea5tg2z8().s[46]++;return User.deleteMany().then(()=>{cov_rea5tg2z8().f[17]++;});});cov_rea5tg2z8().s[47]++;it('should fail to update if the user does not exist',()=>{cov_rea5tg2z8().f[18]++;cov_rea5tg2z8().s[48]++;return updateUser(_id,{name,surname,email},password).then(()=>{cov_rea5tg2z8().f[19]++;cov_rea5tg2z8().s[49]++;throw new Error('should not reach this point');}).catch(({message})=>{cov_rea5tg2z8().f[20]++;cov_rea5tg2z8().s[50]++;expect(message).not.to.be.undefined;cov_rea5tg2z8().s[51]++;expect(message).to.equal(`user with id ${_id} does not exist`);}).then(()=>{cov_rea5tg2z8().f[21]++;});});});cov_rea5tg2z8().s[52]++;describe('when the user is deactivated',()=>{cov_rea5tg2z8().f[22]++;cov_rea5tg2z8().s[53]++;beforeEach(()=>{cov_rea5tg2z8().f[23]++;cov_rea5tg2z8().s[54]++;return User.create({name,surname,email,password,age,gender}).then(({id})=>{cov_rea5tg2z8().f[24]++;cov_rea5tg2z8().s[55]++;return _id=id;}).then(()=>{cov_rea5tg2z8().f[25]++;cov_rea5tg2z8().s[56]++;return User.findByIdAndUpdate(_id,{$set:{deactivated:true}});}).then(()=>{cov_rea5tg2z8().f[26]++;});});cov_rea5tg2z8().s[57]++;it('should fail to update if the password is wrong',()=>{cov_rea5tg2z8().f[27]++;cov_rea5tg2z8().s[58]++;return updateUser(_id,{name,surname,email},`${password}-wrong`).then(()=>{cov_rea5tg2z8().f[28]++;cov_rea5tg2z8().s[59]++;throw new Error('should not reach this point');}).catch(({message})=>{cov_rea5tg2z8().f[29]++;cov_rea5tg2z8().s[60]++;expect(message).not.to.be.undefined;cov_rea5tg2z8().s[61]++;expect(message).to.equal(`user with id ${_id} is deactivated`);}).then(()=>{cov_rea5tg2z8().f[30]++;});});});cov_rea5tg2z8().s[62]++;describe('on wrong credentials',()=>{cov_rea5tg2z8().f[31]++;cov_rea5tg2z8().s[63]++;beforeEach(()=>{cov_rea5tg2z8().f[32]++;cov_rea5tg2z8().s[64]++;return User.findByIdAndUpdate(_id,{$set:{deactivated:true}}).then(()=>{cov_rea5tg2z8().f[33]++;});});cov_rea5tg2z8().s[65]++;it('should fail to update if the password is wrong',()=>{cov_rea5tg2z8().f[34]++;cov_rea5tg2z8().s[66]++;return updateUser(_id,{name,surname,email},`${password}-wrong`).then(()=>{cov_rea5tg2z8().f[35]++;cov_rea5tg2z8().s[67]++;throw new Error('should not reach this point');}).catch(({message})=>{cov_rea5tg2z8().f[36]++;cov_rea5tg2z8().s[68]++;expect(message).not.to.be.undefined;cov_rea5tg2z8().s[69]++;expect(message).to.equal(`user with id ${_id} is deactivated`);}).then(()=>{cov_rea5tg2z8().f[37]++;});});});cov_rea5tg2z8().s[70]++;describe('unhappy paths',()=>{cov_rea5tg2z8().f[38]++;let __id;cov_rea5tg2z8().s[71]++;beforeEach(()=>{cov_rea5tg2z8().f[39]++;cov_rea5tg2z8().s[72]++;return Promise.resolve(User.create({name,surname,email,password,age,gender})).then(({id})=>{cov_rea5tg2z8().f[40]++;cov_rea5tg2z8().s[73]++;_id=id;cov_rea5tg2z8().s[74]++;__id=id;}).then(()=>{cov_rea5tg2z8().f[41]++;});});cov_rea5tg2z8().s[75]++;it('should fail on a non-string user id',()=>{cov_rea5tg2z8().f[42]++;cov_rea5tg2z8().s[76]++;_id=9328743289;cov_rea5tg2z8().s[77]++;expect(()=>{cov_rea5tg2z8().f[43]++;cov_rea5tg2z8().s[78]++;return updateUser(_id,{surname,email},password);}).to.throw(TypeError,`id ${_id} is not a string`);cov_rea5tg2z8().s[79]++;_id=false;cov_rea5tg2z8().s[80]++;expect(()=>{cov_rea5tg2z8().f[44]++;cov_rea5tg2z8().s[81]++;return updateUser(_id,{surname,email},password);}).to.throw(TypeError,`id ${_id} is not a string`);cov_rea5tg2z8().s[82]++;_id=undefined;cov_rea5tg2z8().s[83]++;expect(()=>{cov_rea5tg2z8().f[45]++;cov_rea5tg2z8().s[84]++;return updateUser(_id,{surname,email},password);}).to.throw(TypeError,`id ${_id} is not a string`);cov_rea5tg2z8().s[85]++;_id=[];cov_rea5tg2z8().s[86]++;expect(()=>{cov_rea5tg2z8().f[46]++;cov_rea5tg2z8().s[87]++;return updateUser(_id,{surname,email},password);}).to.throw(TypeError,`id ${_id} is not a string`);});cov_rea5tg2z8().s[88]++;it('should fail on a non-object data',()=>{cov_rea5tg2z8().f[47]++;cov_rea5tg2z8().s[89]++;data=9328743289;cov_rea5tg2z8().s[90]++;expect(()=>{cov_rea5tg2z8().f[48]++;cov_rea5tg2z8().s[91]++;return updateUser(__id,data,password);}).to.throw(TypeError,`data ${data} is not a Object`);cov_rea5tg2z8().s[92]++;data=false;cov_rea5tg2z8().s[93]++;expect(()=>{cov_rea5tg2z8().f[49]++;cov_rea5tg2z8().s[94]++;return updateUser(__id,data,password);}).to.throw(TypeError,`data ${data} is not a Object`);cov_rea5tg2z8().s[95]++;data=undefined;cov_rea5tg2z8().s[96]++;expect(()=>{cov_rea5tg2z8().f[50]++;cov_rea5tg2z8().s[97]++;return updateUser(__id,data,password);}).to.throw(TypeError,`data ${data} is not a Object`);cov_rea5tg2z8().s[98]++;data='function () { }';cov_rea5tg2z8().s[99]++;expect(()=>{cov_rea5tg2z8().f[51]++;cov_rea5tg2z8().s[100]++;return updateUser(__id,data,password);}).to.throw(TypeError,`data ${data} is not a Object`);});cov_rea5tg2z8().s[101]++;it('should fail on a non-string password',()=>{cov_rea5tg2z8().f[52]++;cov_rea5tg2z8().s[102]++;password=9328743289;cov_rea5tg2z8().s[103]++;expect(()=>{cov_rea5tg2z8().f[53]++;cov_rea5tg2z8().s[104]++;return updateUser(__id,{surname,email},password);}).to.throw(TypeError,`password ${password} is not a string`);cov_rea5tg2z8().s[105]++;password=false;cov_rea5tg2z8().s[106]++;expect(()=>{cov_rea5tg2z8().f[54]++;cov_rea5tg2z8().s[107]++;return updateUser(__id,{surname,email},password);}).to.throw(TypeError,`password ${password} is not a string`);cov_rea5tg2z8().s[108]++;password=undefined;cov_rea5tg2z8().s[109]++;expect(()=>{cov_rea5tg2z8().f[55]++;cov_rea5tg2z8().s[110]++;return updateUser(__id,{surname,email},password);}).to.throw(TypeError,`password ${password} is not a string`);cov_rea5tg2z8().s[111]++;password=[];cov_rea5tg2z8().s[112]++;expect(()=>{cov_rea5tg2z8().f[56]++;cov_rea5tg2z8().s[113]++;return updateUser(__id,{surname,email},password);}).to.throw(TypeError,`password ${password} is not a string`);});});cov_rea5tg2z8().s[114]++;after(()=>{cov_rea5tg2z8().f[57]++;cov_rea5tg2z8().s[115]++;return Promise.all([User.deleteMany(),Toilet.deleteMany(),Comment.deleteMany()]).then(()=>{cov_rea5tg2z8().f[58]++;cov_rea5tg2z8().s[116]++;return mongoose.disconnect();});});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwZGF0ZS11c2VyLnNwZWMuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsImNvbmZpZyIsImV4cGVjdCIsInJhbmRvbSIsImZsb29yIiwiTWF0aCIsIm1vbmdvb3NlIiwibW9kZWxzIiwiVXNlciIsIlRvaWxldCIsIkNvbW1lbnQiLCJ1cGRhdGVVc2VyIiwiYmNyeXB0IiwiZW52IiwiVEVTVF9NT05HT0RCX1VSTCIsInByb2Nlc3MiLCJkZXNjcmliZSIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImFnZSIsImdlbmRlciIsIl9pZCIsIkdFTkRFUlMiLCJiZWZvcmUiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsIlByb21pc2UiLCJhbGwiLCJkZWxldGVNYW55IiwiYmVmb3JlRWFjaCIsImxlbmd0aCIsImhhc2giLCJjcmVhdGUiLCJ1c2VyIiwiaWQiLCJpdCIsImZpbmRCeUlkIiwibGVhbiIsInRvIiwiZXhpc3QiLCJlcXVhbCIsInBlbmRlamFkYSIsInRvU3RyaW5nIiwiYmUiLCJhIiwidW5kZWZpbmVkIiwiY29tcGFyZSIsInZhbGlkUGFzc3dvcmQiLCJ0cnVlIiwiRXJyb3IiLCJjYXRjaCIsIm1lc3NhZ2UiLCJub3QiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIiRzZXQiLCJkZWFjdGl2YXRlZCIsIl9faWQiLCJyZXNvbHZlIiwidGhyb3ciLCJUeXBlRXJyb3IiLCJkYXRhIiwiYWZ0ZXIiLCJkaXNjb25uZWN0Il0sIm1hcHBpbmdzIjoiNjNpQkFBQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsR0FFQSxLQUFNLENBQUVDLE1BQUYsMEJBQWFGLE9BQU8sQ0FBQyxNQUFELENBQXBCLENBQU4sQ0FDQSxLQUFNLENBQUVHLE1BQUYsQ0FBVUMsS0FBViwwQkFBb0JDLElBQXBCLENBQU4sQ0FDQSxLQUFNLENBQUVDLFFBQUYsQ0FBWUMsTUFBTSxDQUFFLENBQUVDLElBQUYs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QWtLekI2QyxLQUFLLENBQUMsSUFDRix3REFBQW5DLENBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLENBQUN2QixJQUFJLENBQUN3QixVQUFMLEVBQUQsQ0FBb0J2QixNQUFNLENBQUN1QixVQUFQLEVBQXBCLENBQXlDdEIsT0FBTyxDQUFDc0IsVUFBUixFQUF6QyxDQUFaLEVBQ0tILElBREwsQ0FDVSxJQUFNLHdEQUFBdkIsQ0FBQUEsUUFBUSxDQUFDNEQsVUFBVCxHQUFxQixDQURyQyxFQUNzQyxDQUZyQyxDQUFMLENBSUgsQ0F0S08sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpXHJcblxyXG5jb25zdCB7IGV4cGVjdCB9ID0gcmVxdWlyZSgnY2hhaScpXHJcbmNvbnN0IHsgcmFuZG9tLCBmbG9vciB9ID0gTWF0aFxyXG5jb25zdCB7IG1vbmdvb3NlLCBtb2RlbHM6IHsgVXNlciwgVG9pbGV0LCBDb21tZW50IH0gfSA9IHJlcXVpcmUoJ3Bvb3Bpbmlvbi1kYXRhJylcclxuY29uc3QgdXBkYXRlVXNlciA9IHJlcXVpcmUoJy4vdXBkYXRlLXVzZXInKVxyXG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHRqcycpXHJcbmNvbnN0IHsgZW52OiB7IFRFU1RfTU9OR09EQl9VUkwgfSB9ID0gcHJvY2Vzc1xyXG5cclxuZGVzY3JpYmUoJ3VwZGF0ZVVzZXInLCAoKSA9PiB7XHJcbiAgICBsZXQgbmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlciwgX2lkXHJcbiAgICBjb25zdCBHRU5ERVJTID0gWydtYWxlJywgJ2ZlbWFsZScsICdub24tYmluYXJ5J11cclxuXHJcbiAgICBiZWZvcmUoKCkgPT5cclxuICAgICAgICBtb25nb29zZS5jb25uZWN0KFRFU1RfTU9OR09EQl9VUkwsIHsgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gUHJvbWlzZS5hbGwoW1VzZXIuZGVsZXRlTWFueSgpLCBUb2lsZXQuZGVsZXRlTWFueSgpLCBDb21tZW50LmRlbGV0ZU1hbnkoKV0pKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7IH0pXHJcbiAgICApXHJcblxyXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgICAgbmFtZSA9IGBuYW1lLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIHN1cm5hbWUgPSBgc3VybmFtZS0ke3JhbmRvbSgpfWBcclxuICAgICAgICBlbWFpbCA9IGBlbWFpbC0ke3JhbmRvbSgpfUBtYWlsLmNvbWBcclxuICAgICAgICBwYXNzd29yZCA9IGBwYXNzd29yZC0ke3JhbmRvbSgpfWBcclxuICAgICAgICBhZ2UgPSBmbG9vcihyYW5kb20oKSAqIDEyMClcclxuICAgICAgICBnZW5kZXIgPSBHRU5ERVJTW2Zsb29yKHJhbmRvbSgpICogR0VOREVSUy5sZW5ndGgpXVxyXG4gICAgfSlcclxuXHJcbiAgICBkZXNjcmliZSgnd2hlbiB0aGUgdXNlciBleGlzdHMnLCAoKSA9PiB7XHJcbiAgICAgICAgYmVmb3JlRWFjaCgoKSA9PlxyXG4gICAgICAgICAgICBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApXHJcbiAgICAgICAgICAgICAgICAudGhlbihwYXNzd29yZCA9PlxyXG4gICAgICAgICAgICAgICAgICAgIFVzZXIuY3JlYXRlKHsgbmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlciB9KVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4odXNlciA9PiBfaWQgPSB1c2VyLmlkKVxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBzdWNjZWVkIG9uIGNvcnJlY3QgdXNlciBkYXRhJywgKCkgPT5cclxuICAgICAgICAgICAgVXNlci5maW5kQnlJZChfaWQpLmxlYW4oKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4odXNlciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHVzZXIpLnRvLmV4aXN0XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHVzZXIubmFtZSkudG8uZXF1YWwobmFtZSlcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QodXNlci5zdXJuYW1lKS50by5lcXVhbChzdXJuYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyLmVtYWlsKS50by5lcXVhbChlbWFpbClcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QodXNlci5hZ2UpLnRvLmVxdWFsKGFnZSlcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QodXNlci5nZW5kZXIpLnRvLmVxdWFsKGdlbmRlcilcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVVzZXIoX2lkLCB7IHBlbmRlamFkYTogJ21heGltYScsIG5hbWU6IGAke25hbWV9LXVwZGF0ZWRgLCBzdXJuYW1lOiBgJHtzdXJuYW1lfS11cGRhdGVkYCwgZW1haWw6IGAke2VtYWlsfS11cGRhdGVkYCwgYWdlOiBhZ2UgKyAxIH0sIHBhc3N3b3JkKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gVXNlci5maW5kQnlJZChfaWQpLmxlYW4oKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHVzZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyKS50by5leGlzdFxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyLl9pZC50b1N0cmluZygpKS50by5iZS5hKCdzdHJpbmcnKVxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyLm5hbWUpLnRvLmVxdWFsKGAke25hbWV9LXVwZGF0ZWRgKVxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyLnN1cm5hbWUpLnRvLmVxdWFsKGAke3N1cm5hbWV9LXVwZGF0ZWRgKVxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyLmVtYWlsKS50by5lcXVhbChgJHtlbWFpbH0tdXBkYXRlZGApXHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHVzZXIuZ2VuZGVyKS50by5lcXVhbChnZW5kZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHVzZXIuYWdlKS50by5lcXVhbChhZ2UgKyAxKVxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh1c2VyLnBlbmRlamFkYSkudG8uYmUudW5kZWZpbmVkXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbih2YWxpZFBhc3N3b3JkID0+IGV4cGVjdCh2YWxpZFBhc3N3b3JkKS50by5iZS50cnVlKVxyXG4gICAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgZGVzY3JpYmUoJ3doZW4gdGhlIHVzZXIgZG9lcyBub3QgZXhpc3QnLCAoKSA9PiB7XHJcbiAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiBVc2VyLmRlbGV0ZU1hbnkoKS50aGVuKCgpID0+IHsgfSkpXHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgZmFpbCB0byB1cGRhdGUgaWYgdGhlIHVzZXIgZG9lcyBub3QgZXhpc3QnLCAoKSA9PlxyXG4gICAgICAgICAgICB1cGRhdGVVc2VyKF9pZCwgeyBuYW1lLCBzdXJuYW1lLCBlbWFpbCB9LCBwYXNzd29yZClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsgdGhyb3cgbmV3IEVycm9yKCdzaG91bGQgbm90IHJlYWNoIHRoaXMgcG9pbnQnKSB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKCh7IG1lc3NhZ2UgfSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QobWVzc2FnZSkubm90LnRvLmJlLnVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChtZXNzYWdlKS50by5lcXVhbChgdXNlciB3aXRoIGlkICR7X2lkfSBkb2VzIG5vdCBleGlzdGApXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4geyB9KVxyXG4gICAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgZGVzY3JpYmUoJ3doZW4gdGhlIHVzZXIgaXMgZGVhY3RpdmF0ZWQnLCAoKSA9PiB7XHJcbiAgICAgICAgYmVmb3JlRWFjaCgoKSA9PlxyXG4gICAgICAgICAgICBVc2VyLmNyZWF0ZSh7IG5hbWUsIHN1cm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgYWdlLCBnZW5kZXIgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKCh7IGlkIH0pID0+IF9pZCA9IGlkKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gVXNlci5maW5kQnlJZEFuZFVwZGF0ZShfaWQsIHsgJHNldDogeyBkZWFjdGl2YXRlZDogdHJ1ZSB9IH0pKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4geyB9KVxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBmYWlsIHRvIHVwZGF0ZSBpZiB0aGUgcGFzc3dvcmQgaXMgd3JvbmcnLCAoKSA9PlxyXG4gICAgICAgICAgICB1cGRhdGVVc2VyKF9pZCwgeyBuYW1lLCBzdXJuYW1lLCBlbWFpbCB9LCBgJHtwYXNzd29yZH0td3JvbmdgKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4geyB0aHJvdyBuZXcgRXJyb3IoJ3Nob3VsZCBub3QgcmVhY2ggdGhpcyBwb2ludCcpIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKHsgbWVzc2FnZSB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG1lc3NhZ2UpLm5vdC50by5iZS51bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QobWVzc2FnZSkudG8uZXF1YWwoYHVzZXIgd2l0aCBpZCAke19pZH0gaXMgZGVhY3RpdmF0ZWRgKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsgfSlcclxuICAgICAgICApXHJcbiAgICB9KVxyXG5cclxuICAgIGRlc2NyaWJlKCdvbiB3cm9uZyBjcmVkZW50aWFscycsICgpID0+IHtcclxuICAgICAgICBiZWZvcmVFYWNoKCgpID0+IFVzZXIuZmluZEJ5SWRBbmRVcGRhdGUoX2lkLCB7ICRzZXQ6IHsgZGVhY3RpdmF0ZWQ6IHRydWUgfSB9KVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7IH0pXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGZhaWwgdG8gdXBkYXRlIGlmIHRoZSBwYXNzd29yZCBpcyB3cm9uZycsICgpID0+XHJcbiAgICAgICAgICAgIHVwZGF0ZVVzZXIoX2lkLCB7IG5hbWUsIHN1cm5hbWUsIGVtYWlsIH0sIGAke3Bhc3N3b3JkfS13cm9uZ2ApXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7IHRocm93IG5ldyBFcnJvcignc2hvdWxkIG5vdCByZWFjaCB0aGlzIHBvaW50JykgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoeyBtZXNzYWdlIH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QobWVzc2FnZSkubm90LnRvLmJlLnVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChtZXNzYWdlKS50by5lcXVhbChgdXNlciB3aXRoIGlkICR7X2lkfSBpcyBkZWFjdGl2YXRlZGApXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4geyB9KVxyXG4gICAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgZGVzY3JpYmUoJ3VuaGFwcHkgcGF0aHMnLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IF9faWRcclxuICAgICAgICBiZWZvcmVFYWNoKCgpID0+XHJcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShVc2VyLmNyZWF0ZSh7IG5hbWUsIHN1cm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgYWdlLCBnZW5kZXIgfSkpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoeyBpZCB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2lkID0gaWRcclxuICAgICAgICAgICAgICAgICAgICBfX2lkID0gaWRcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7IH0pXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGZhaWwgb24gYSBub24tc3RyaW5nIHVzZXIgaWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIF9pZCA9IDkzMjg3NDMyODlcclxuICAgICAgICAgICAgZXhwZWN0KCgpID0+IHVwZGF0ZVVzZXIoX2lkLCB7IHN1cm5hbWUsIGVtYWlsIH0sIHBhc3N3b3JkKSkudG8udGhyb3coVHlwZUVycm9yLCBgaWQgJHtfaWR9IGlzIG5vdCBhIHN0cmluZ2ApXHJcblxyXG4gICAgICAgICAgICBfaWQgPSBmYWxzZVxyXG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gdXBkYXRlVXNlcihfaWQsIHsgc3VybmFtZSwgZW1haWwgfSwgcGFzc3dvcmQpKS50by50aHJvdyhUeXBlRXJyb3IsIGBpZCAke19pZH0gaXMgbm90IGEgc3RyaW5nYClcclxuXHJcbiAgICAgICAgICAgIF9pZCA9IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gdXBkYXRlVXNlcihfaWQsIHsgc3VybmFtZSwgZW1haWwgfSwgcGFzc3dvcmQpKS50by50aHJvdyhUeXBlRXJyb3IsIGBpZCAke19pZH0gaXMgbm90IGEgc3RyaW5nYClcclxuXHJcbiAgICAgICAgICAgIF9pZCA9IFtdXHJcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiB1cGRhdGVVc2VyKF9pZCwgeyBzdXJuYW1lLCBlbWFpbCB9LCBwYXNzd29yZCkpLnRvLnRocm93KFR5cGVFcnJvciwgYGlkICR7X2lkfSBpcyBub3QgYSBzdHJpbmdgKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgZmFpbCBvbiBhIG5vbi1vYmplY3QgZGF0YScsICgpID0+IHtcclxuICAgICAgICAgICAgZGF0YSA9IDkzMjg3NDMyODlcclxuICAgICAgICAgICAgZXhwZWN0KCgpID0+IHVwZGF0ZVVzZXIoX19pZCwgZGF0YSwgcGFzc3dvcmQpKS50by50aHJvdyhUeXBlRXJyb3IsIGBkYXRhICR7ZGF0YX0gaXMgbm90IGEgT2JqZWN0YClcclxuXHJcbiAgICAgICAgICAgIGRhdGEgPSBmYWxzZVxyXG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gdXBkYXRlVXNlcihfX2lkLCBkYXRhLCBwYXNzd29yZCkpLnRvLnRocm93KFR5cGVFcnJvciwgYGRhdGEgJHtkYXRhfSBpcyBub3QgYSBPYmplY3RgKVxyXG5cclxuICAgICAgICAgICAgZGF0YSA9IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gdXBkYXRlVXNlcihfX2lkLCBkYXRhLCBwYXNzd29yZCkpLnRvLnRocm93KFR5cGVFcnJvciwgYGRhdGEgJHtkYXRhfSBpcyBub3QgYSBPYmplY3RgKVxyXG5cclxuICAgICAgICAgICAgZGF0YSA9ICdmdW5jdGlvbiAoKSB7IH0nXHJcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiB1cGRhdGVVc2VyKF9faWQsIGRhdGEsIHBhc3N3b3JkKSkudG8udGhyb3coVHlwZUVycm9yLCBgZGF0YSAke2RhdGF9IGlzIG5vdCBhIE9iamVjdGApXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBmYWlsIG9uIGEgbm9uLXN0cmluZyBwYXNzd29yZCcsICgpID0+IHtcclxuICAgICAgICAgICAgcGFzc3dvcmQgPSA5MzI4NzQzMjg5XHJcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiB1cGRhdGVVc2VyKF9faWQsIHsgc3VybmFtZSwgZW1haWwgfSwgcGFzc3dvcmQpKS50by50aHJvdyhUeXBlRXJyb3IsIGBwYXNzd29yZCAke3Bhc3N3b3JkfSBpcyBub3QgYSBzdHJpbmdgKVxyXG5cclxuICAgICAgICAgICAgcGFzc3dvcmQgPSBmYWxzZVxyXG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gdXBkYXRlVXNlcihfX2lkLCB7IHN1cm5hbWUsIGVtYWlsIH0sIHBhc3N3b3JkKSkudG8udGhyb3coVHlwZUVycm9yLCBgcGFzc3dvcmQgJHtwYXNzd29yZH0gaXMgbm90IGEgc3RyaW5nYClcclxuXHJcbiAgICAgICAgICAgIHBhc3N3b3JkID0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiB1cGRhdGVVc2VyKF9faWQsIHsgc3VybmFtZSwgZW1haWwgfSwgcGFzc3dvcmQpKS50by50aHJvdyhUeXBlRXJyb3IsIGBwYXNzd29yZCAke3Bhc3N3b3JkfSBpcyBub3QgYSBzdHJpbmdgKVxyXG5cclxuICAgICAgICAgICAgcGFzc3dvcmQgPSBbXVxyXG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gdXBkYXRlVXNlcihfX2lkLCB7IHN1cm5hbWUsIGVtYWlsIH0sIHBhc3N3b3JkKSkudG8udGhyb3coVHlwZUVycm9yLCBgcGFzc3dvcmQgJHtwYXNzd29yZH0gaXMgbm90IGEgc3RyaW5nYClcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICBhZnRlcigoKSA9PlxyXG4gICAgICAgIFByb21pc2UuYWxsKFtVc2VyLmRlbGV0ZU1hbnkoKSwgVG9pbGV0LmRlbGV0ZU1hbnkoKSwgQ29tbWVudC5kZWxldGVNYW55KCldKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiBtb25nb29zZS5kaXNjb25uZWN0KCkpXHJcbiAgICApXHJcbn0pIl19