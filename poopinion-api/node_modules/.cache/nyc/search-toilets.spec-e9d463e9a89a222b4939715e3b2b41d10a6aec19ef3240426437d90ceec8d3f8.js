function cov_4gs1dd60(){var path="C:\\Users\\Alex\\bootcamp\\collab\\skylab-bootcamp-202001\\staff\\alex-park\\poopinion\\poopinion-api\\logic\\search-toilets.spec.js";var hash="a21aaf9e5daa9e4f0d12680bad58a68e6793d67a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Alex\\bootcamp\\collab\\skylab-bootcamp-202001\\staff\\alex-park\\poopinion\\poopinion-api\\logic\\search-toilets.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:38},end:{line:3,column:45}},"2":{start:{line:4,column:19},end:{line:4,column:34}},"3":{start:{line:5,column:26},end:{line:5,column:30}},"4":{start:{line:6,column:22},end:{line:6,column:49}},"5":{start:{line:7,column:56},end:{line:7,column:81}},"6":{start:{line:9,column:0},end:{line:121,column:2}},"7":{start:{line:10,column:4},end:{line:14,column:5}},"8":{start:{line:11,column:8},end:{line:13,column:28}},"9":{start:{line:12,column:24},end:{line:12,column:99}},"10":{start:{line:17,column:20},end:{line:17,column:52}},"11":{start:{line:19,column:4},end:{line:26,column:6}},"12":{start:{line:20,column:8},end:{line:20,column:33}},"13":{start:{line:21,column:8},end:{line:21,column:39}},"14":{start:{line:22,column:8},end:{line:22,column:44}},"15":{start:{line:23,column:8},end:{line:23,column:41}},"16":{start:{line:24,column:8},end:{line:24,column:35}},"17":{start:{line:25,column:8},end:{line:25,column:58}},"18":{start:{line:28,column:4},end:{line:99,column:6}},"19":{start:{line:30,column:8},end:{line:43,column:9}},"20":{start:{line:31,column:12},end:{line:42,column:32}},"21":{start:{line:32,column:34},end:{line:32,column:42}},"22":{start:{line:34,column:36},end:{line:34,column:38}},"23":{start:{line:35,column:20},end:{line:38,column:21}},"24":{start:{line:35,column:33},end:{line:35,column:34}},"25":{start:{line:36,column:42},end:{line:36,column:45}},"26":{start:{line:36,column:55},end:{line:36,column:98}},"27":{start:{line:37,column:24},end:{line:37,column:58}},"28":{start:{line:40,column:20},end:{line:40,column:49}},"29":{start:{line:45,column:8},end:{line:58,column:10}},"30":{start:{line:46,column:12},end:{line:46,column:26}},"31":{start:{line:47,column:12},end:{line:57,column:32}},"32":{start:{line:49,column:20},end:{line:49,column:54}},"33":{start:{line:51,column:20},end:{line:55,column:22}},"34":{start:{line:52,column:24},end:{line:52,column:63}},"35":{start:{line:53,column:42},end:{line:53,column:48}},"36":{start:{line:54,column:24},end:{line:54,column:67}},"37":{start:{line:60,column:8},end:{line:73,column:10}},"38":{start:{line:61,column:12},end:{line:61,column:27}},"39":{start:{line:62,column:12},end:{line:72,column:32}},"40":{start:{line:64,column:20},end:{line:64,column:54}},"41":{start:{line:66,column:20},end:{line:70,column:22}},"42":{start:{line:67,column:24},end:{line:67,column:63}},"43":{start:{line:68,column:42},end:{line:68,column:48}},"44":{start:{line:69,column:24},end:{line:69,column:72}},"45":{start:{line:75,column:8},end:{line:88,column:10}},"46":{start:{line:76,column:12},end:{line:76,column:24}},"47":{start:{line:77,column:12},end:{line:87,column:32}},"48":{start:{line:79,column:20},end:{line:79,column:55}},"49":{start:{line:81,column:20},end:{line:85,column:22}},"50":{start:{line:82,column:24},end:{line:82,column:63}},"51":{start:{line:83,column:42},end:{line:83,column:48}},"52":{start:{line:84,column:24},end:{line:84,column:108}},"53":{start:{line:90,column:8},end:{line:98,column:10}},"54":{start:{line:91,column:12},end:{line:91,column:69}},"55":{start:{line:92,column:12},end:{line:97,column:32}},"56":{start:{line:94,column:20},end:{line:94,column:54}},"57":{start:{line:95,column:20},end:{line:95,column:59}},"58":{start:{line:101,column:4},end:{line:115,column:6}},"59":{start:{line:102,column:8},end:{line:114,column:10}},"60":{start:{line:103,column:12},end:{line:103,column:30}},"61":{start:{line:104,column:12},end:{line:104,column:100}},"62":{start:{line:104,column:25},end:{line:104,column:45}},"63":{start:{line:106,column:12},end:{line:106,column:25}},"64":{start:{line:107,column:12},end:{line:107,column:100}},"65":{start:{line:107,column:25},end:{line:107,column:45}},"66":{start:{line:109,column:12},end:{line:109,column:29}},"67":{start:{line:110,column:12},end:{line:110,column:100}},"68":{start:{line:110,column:25},end:{line:110,column:45}},"69":{start:{line:112,column:12},end:{line:112,column:22}},"70":{start:{line:113,column:12},end:{line:113,column:100}},"71":{start:{line:113,column:25},end:{line:113,column:45}},"72":{start:{line:117,column:4},end:{line:120,column:5}},"73":{start:{line:118,column:8},end:{line:119,column:46}},"74":{start:{line:119,column:24},end:{line:119,column:45}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:26},end:{line:9,column:27}},loc:{start:{line:9,column:32},end:{line:121,column:1}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:11},end:{line:10,column:12}},loc:{start:{line:11,column:8},end:{line:13,column:28}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:18},end:{line:12,column:19}},loc:{start:{line:12,column:24},end:{line:12,column:99}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:13,column:18},end:{line:13,column:19}},loc:{start:{line:13,column:24},end:{line:13,column:27}},line:13},"4":{name:"(anonymous_4)",decl:{start:{line:19,column:15},end:{line:19,column:16}},loc:{start:{line:19,column:21},end:{line:26,column:5}},line:19},"5":{name:"(anonymous_5)",decl:{start:{line:28,column:46},end:{line:28,column:47}},loc:{start:{line:28,column:52},end:{line:99,column:5}},line:28},"6":{name:"(anonymous_6)",decl:{start:{line:30,column:19},end:{line:30,column:20}},loc:{start:{line:31,column:12},end:{line:42,column:32}},line:31},"7":{name:"(anonymous_7)",decl:{start:{line:32,column:22},end:{line:32,column:23}},loc:{start:{line:32,column:34},end:{line:32,column:42}},line:32},"8":{name:"(anonymous_8)",decl:{start:{line:33,column:22},end:{line:33,column:23}},loc:{start:{line:33,column:28},end:{line:41,column:17}},line:33},"9":{name:"(anonymous_9)",decl:{start:{line:42,column:22},end:{line:42,column:23}},loc:{start:{line:42,column:28},end:{line:42,column:31}},line:42},"10":{name:"(anonymous_10)",decl:{start:{line:45,column:83},end:{line:45,column:84}},loc:{start:{line:45,column:89},end:{line:58,column:9}},line:45},"11":{name:"(anonymous_11)",decl:{start:{line:48,column:22},end:{line:48,column:23}},loc:{start:{line:48,column:33},end:{line:56,column:17}},line:48},"12":{name:"(anonymous_12)",decl:{start:{line:51,column:36},end:{line:51,column:37}},loc:{start:{line:51,column:55},end:{line:55,column:21}},line:51},"13":{name:"(anonymous_13)",decl:{start:{line:57,column:22},end:{line:57,column:23}},loc:{start:{line:57,column:28},end:{line:57,column:31}},line:57},"14":{name:"(anonymous_14)",decl:{start:{line:60,column:84},end:{line:60,column:85}},loc:{start:{line:60,column:90},end:{line:73,column:9}},line:60},"15":{name:"(anonymous_15)",decl:{start:{line:63,column:22},end:{line:63,column:23}},loc:{start:{line:63,column:33},end:{line:71,column:17}},line:63},"16":{name:"(anonymous_16)",decl:{start:{line:66,column:36},end:{line:66,column:37}},loc:{start:{line:66,column:55},end:{line:70,column:21}},line:66},"17":{name:"(anonymous_17)",decl:{start:{line:72,column:22},end:{line:72,column:23}},loc:{start:{line:72,column:28},end:{line:72,column:31}},line:72},"18":{name:"(anonymous_18)",decl:{start:{line:75,column:81},end:{line:75,column:82}},loc:{start:{line:75,column:87},end:{line:88,column:9}},line:75},"19":{name:"(anonymous_19)",decl:{start:{line:78,column:22},end:{line:78,column:23}},loc:{start:{line:78,column:33},end:{line:86,column:17}},line:78},"20":{name:"(anonymous_20)",decl:{start:{line:81,column:36},end:{line:81,column:37}},loc:{start:{line:81,column:55},end:{line:85,column:21}},line:81},"21":{name:"(anonymous_21)",decl:{start:{line:87,column:22},end:{line:87,column:23}},loc:{start:{line:87,column:28},end:{line:87,column:31}},line:87},"22":{name:"(anonymous_22)",decl:{start:{line:90,column:81},end:{line:90,column:82}},loc:{start:{line:90,column:87},end:{line:98,column:9}},line:90},"23":{name:"(anonymous_23)",decl:{start:{line:93,column:22},end:{line:93,column:23}},loc:{start:{line:93,column:33},end:{line:96,column:17}},line:93},"24":{name:"(anonymous_24)",decl:{start:{line:97,column:22},end:{line:97,column:23}},loc:{start:{line:97,column:28},end:{line:97,column:31}},line:97},"25":{name:"(anonymous_25)",decl:{start:{line:101,column:30},end:{line:101,column:31}},loc:{start:{line:101,column:36},end:{line:115,column:5}},line:101},"26":{name:"(anonymous_26)",decl:{start:{line:102,column:48},end:{line:102,column:49}},loc:{start:{line:102,column:54},end:{line:114,column:9}},line:102},"27":{name:"(anonymous_27)",decl:{start:{line:104,column:19},end:{line:104,column:20}},loc:{start:{line:104,column:25},end:{line:104,column:45}},line:104},"28":{name:"(anonymous_28)",decl:{start:{line:107,column:19},end:{line:107,column:20}},loc:{start:{line:107,column:25},end:{line:107,column:45}},line:107},"29":{name:"(anonymous_29)",decl:{start:{line:110,column:19},end:{line:110,column:20}},loc:{start:{line:110,column:25},end:{line:110,column:45}},line:110},"30":{name:"(anonymous_30)",decl:{start:{line:113,column:19},end:{line:113,column:20}},loc:{start:{line:113,column:25},end:{line:113,column:45}},line:113},"31":{name:"(anonymous_31)",decl:{start:{line:117,column:10},end:{line:117,column:11}},loc:{start:{line:118,column:8},end:{line:119,column:46}},line:118},"32":{name:"(anonymous_32)",decl:{start:{line:119,column:18},end:{line:119,column:19}},loc:{start:{line:119,column:24},end:{line:119,column:45}},line:119}},branchMap:{"0":{loc:{start:{line:36,column:58},end:{line:36,column:91}},type:"cond-expr",locations:[{start:{line:36,column:67},end:{line:36,column:78}},{start:{line:36,column:81},end:{line:36,column:91}}],line:36},"1":{loc:{start:{line:84,column:50},end:{line:84,column:105}},type:"cond-expr",locations:[{start:{line:84,column:63},end:{line:84,column:83}},{start:{line:84,column:86},end:{line:84,column:105}}],line:84}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a21aaf9e5daa9e4f0d12680bad58a68e6793d67a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_4gs1dd60=function(){return actualCoverage;};return actualCoverage;}cov_4gs1dd60();cov_4gs1dd60().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL}}=(cov_4gs1dd60().s[1]++,process);const{expect}=(cov_4gs1dd60().s[2]++,require('chai'));const{random,floor}=(cov_4gs1dd60().s[3]++,Math);const searchToilets=(cov_4gs1dd60().s[4]++,require('./search-toilets'));const{mongoose,models:{User,Toilet,Comment}}=(cov_4gs1dd60().s[5]++,require('poopinion-data'));cov_4gs1dd60().s[6]++;describe('searchToilets',()=>{cov_4gs1dd60().f[0]++;cov_4gs1dd60().s[7]++;before(()=>{cov_4gs1dd60().f[1]++;cov_4gs1dd60().s[8]++;return mongoose.connect(TEST_MONGODB_URL,{useNewUrlParser:true,useUnifiedTopology:true}).then(()=>{cov_4gs1dd60().f[2]++;cov_4gs1dd60().s[9]++;return Promise.all([User.deleteMany(),Toilet.deleteMany(),Comment.deleteMany()]);}).then(()=>{cov_4gs1dd60().f[3]++;});});let name,surname,email,password,age,gender,query;const GENDERS=(cov_4gs1dd60().s[10]++,['male','female','non-binary']);cov_4gs1dd60().s[11]++;beforeEach(()=>{cov_4gs1dd60().f[4]++;cov_4gs1dd60().s[12]++;name=`name-${random()}`;cov_4gs1dd60().s[13]++;surname=`surname-${random()}`;cov_4gs1dd60().s[14]++;email=`email-${random()}@mail.com`;cov_4gs1dd60().s[15]++;password=`password-${random()}`;cov_4gs1dd60().s[16]++;age=floor(random()*120);cov_4gs1dd60().s[17]++;gender=GENDERS[floor(random()*GENDERS.length)];});cov_4gs1dd60().s[18]++;describe('when toilets can be retrieved',()=>{cov_4gs1dd60().f[5]++;cov_4gs1dd60().s[19]++;beforeEach(()=>{cov_4gs1dd60().f[6]++;cov_4gs1dd60().s[20]++;return Promise.resolve(User.create({name,surname,email,password,age,gender})).then(({id})=>{cov_4gs1dd60().f[7]++;cov_4gs1dd60().s[21]++;return _id=id;}).then(()=>{cov_4gs1dd60().f[8]++;const toilets=(cov_4gs1dd60().s[22]++,[]);cov_4gs1dd60().s[23]++;for(let i=(cov_4gs1dd60().s[24]++,0);i<10;i++){const publisher=(cov_4gs1dd60().s[25]++,_id),place=(cov_4gs1dd60().s[26]++,`${i>=5?(cov_4gs1dd60().b[0][0]++,'house of '):(cov_4gs1dd60().b[0][1]++,'home of ')}-${i}`);cov_4gs1dd60().s[27]++;toilets.push({publisher,place});}cov_4gs1dd60().s[28]++;return Toilet.create(toilets);}).then(()=>{cov_4gs1dd60().f[9]++;});});cov_4gs1dd60().s[29]++;it('should successfully retrieve all toilets that match the query "home"',()=>{cov_4gs1dd60().f[10]++;cov_4gs1dd60().s[30]++;query='home';cov_4gs1dd60().s[31]++;searchToilets(query).then(results=>{cov_4gs1dd60().f[11]++;cov_4gs1dd60().s[32]++;expect(results.length).to.equal(5);cov_4gs1dd60().s[33]++;results.forEach((toilet,index)=>{cov_4gs1dd60().f[12]++;cov_4gs1dd60().s[34]++;expect(toilet).to.be.instanceOf(Object);const{place}=(cov_4gs1dd60().s[35]++,toilet);cov_4gs1dd60().s[36]++;expect(place).to.equal(`home of -${index}`);});}).then(()=>{cov_4gs1dd60().f[13]++;});});cov_4gs1dd60().s[37]++;it('should successfully retrieve all toilets that match the query "house"',()=>{cov_4gs1dd60().f[14]++;cov_4gs1dd60().s[38]++;query='house';cov_4gs1dd60().s[39]++;searchToilets(query).then(results=>{cov_4gs1dd60().f[15]++;cov_4gs1dd60().s[40]++;expect(results.length).to.equal(5);cov_4gs1dd60().s[41]++;results.forEach((toilet,index)=>{cov_4gs1dd60().f[16]++;cov_4gs1dd60().s[42]++;expect(toilet).to.be.instanceOf(Object);const{place}=(cov_4gs1dd60().s[43]++,toilet);cov_4gs1dd60().s[44]++;expect(place).to.equal(`house of -${index+5}`);});}).then(()=>{cov_4gs1dd60().f[17]++;});});cov_4gs1dd60().s[45]++;it('should successfully retrieve all toilets that match the query "ho"',()=>{cov_4gs1dd60().f[18]++;cov_4gs1dd60().s[46]++;query='ho';cov_4gs1dd60().s[47]++;searchToilets(query).then(results=>{cov_4gs1dd60().f[19]++;cov_4gs1dd60().s[48]++;expect(results.length).to.equal(10);cov_4gs1dd60().s[49]++;results.forEach((toilet,index)=>{cov_4gs1dd60().f[20]++;cov_4gs1dd60().s[50]++;expect(toilet).to.be.instanceOf(Object);const{place}=(cov_4gs1dd60().s[51]++,toilet);cov_4gs1dd60().s[52]++;expect(place).to.equal(`${index>=5?(cov_4gs1dd60().b[1][0]++,`house of -${index}`):(cov_4gs1dd60().b[1][1]++,`home of -${index}`)}`);});}).then(()=>{cov_4gs1dd60().f[21]++;});});cov_4gs1dd60().s[53]++;it('should successfully retrieve an empty if the query find no matches',()=>{cov_4gs1dd60().f[22]++;cov_4gs1dd60().s[54]++;query='something-really WronG that should n0t be f@und';cov_4gs1dd60().s[55]++;searchToilets(query).then(results=>{cov_4gs1dd60().f[23]++;cov_4gs1dd60().s[56]++;expect(results.length).to.equal(0);cov_4gs1dd60().s[57]++;expect(results).to.be.instanceOf(Array);}).then(()=>{cov_4gs1dd60().f[24]++;});});});cov_4gs1dd60().s[58]++;describe('unhappy paths',()=>{cov_4gs1dd60().f[25]++;cov_4gs1dd60().s[59]++;it('should fail on a non-string query',()=>{cov_4gs1dd60().f[26]++;cov_4gs1dd60().s[60]++;query=9328743289;cov_4gs1dd60().s[61]++;expect(()=>{cov_4gs1dd60().f[27]++;cov_4gs1dd60().s[62]++;return searchToilets(query);}).to.throw(TypeError,`query ${query} is not a string`);cov_4gs1dd60().s[63]++;query=false;cov_4gs1dd60().s[64]++;expect(()=>{cov_4gs1dd60().f[28]++;cov_4gs1dd60().s[65]++;return searchToilets(query);}).to.throw(TypeError,`query ${query} is not a string`);cov_4gs1dd60().s[66]++;query=undefined;cov_4gs1dd60().s[67]++;expect(()=>{cov_4gs1dd60().f[29]++;cov_4gs1dd60().s[68]++;return searchToilets(query);}).to.throw(TypeError,`query ${query} is not a string`);cov_4gs1dd60().s[69]++;query=[];cov_4gs1dd60().s[70]++;expect(()=>{cov_4gs1dd60().f[30]++;cov_4gs1dd60().s[71]++;return searchToilets(query);}).to.throw(TypeError,`query ${query} is not a string`);});});cov_4gs1dd60().s[72]++;after(()=>{cov_4gs1dd60().f[31]++;cov_4gs1dd60().s[73]++;return Promise.all([User.deleteMany(),Toilet.deleteMany(),Comment.deleteMany()]).then(()=>{cov_4gs1dd60().f[32]++;cov_4gs1dd60().s[74]++;return mongoose.disconnect();});});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC10b2lsZXRzLnNwZWMuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsImNvbmZpZyIsImVudiIsIlRFU1RfTU9OR09EQl9VUkwiLCJwcm9jZXNzIiwiZXhwZWN0IiwicmFuZG9tIiwiZmxvb3IiLCJNYXRoIiwic2VhcmNoVG9pbGV0cyIsIm1vbmdvb3NlIiwibW9kZWxzIiwiVXNlciIsIlRvaWxldCIsIkNvbW1lbnQiLCJkZXNjcmliZSIsImJlZm9yZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiUHJvbWlzZSIsImFsbCIsImRlbGV0ZU1hbnkiLCJuYW1lIiwic3VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJhZ2UiLCJnZW5kZXIiLCJxdWVyeSIsIkdFTkRFUlMiLCJiZWZvcmVFYWNoIiwibGVuZ3RoIiwicmVzb2x2ZSIsImNyZWF0ZSIsImlkIiwiX2lkIiwidG9pbGV0cyIsImkiLCJwdWJsaXNoZXIiLCJwbGFjZSIsInB1c2giLCJpdCIsInJlc3VsdHMiLCJ0byIsImVxdWFsIiwiZm9yRWFjaCIsInRvaWxldCIsImluZGV4IiwiYmUiLCJpbnN0YW5jZU9mIiwiT2JqZWN0IiwiQXJyYXkiLCJ0aHJvdyIsIlR5cGVFcnJvciIsInVuZGVmaW5lZCIsImFmdGVyIiwiZGlzY29ubmVjdCJdLCJtYXBwaW5ncyI6IjIrVkFBQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsR0FFQSxLQUFNLENBQUVDLEdBQUcsQ0FBRSxDQUFFQyxnQkFBRixDQUFQLHlCQUFnQ0MsT0FBaEMsQ0FBTixDQUNBLEtBQU0sQ0FBRUMsTUFBRix5QkFBYUwsT0FBTyxDQUFDLE1BQUQsQ0FBcEIsQ0FBTixDQUNBLEtBQU0sQ0FBRU0sTUFBRixDQUFVQyxLQUFWLHlCQUFvQkMsSUFBcEIsQ0FBTixDQUNBLEtBQU1DLENBQUFBLGFBQWEsd0JBQUdULE9BQU8sQ0FBQyxrQkFBRCxDQUFWLENBQW5CLENBQ0Es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TUFBTSxDQUFDLElBQU0scURBQUFJLENBQUFBLGFBQWEsQ0FBQ3FCLEtBQUQsQ0FBYixDQUFvQixDQUEzQixDQUFOLENBQW1DZSxFQUFuQyxDQUFzQ1MsS0FBdEMsQ0FBNENDLFNBQTVDLENBQXdELFNBQVF6QixLQUFNLGtCQUF0RSxFQUNILENBWkMsQ0FBRixDQWFILENBZE8sQ0FBUixDQTVGNEIsdUJBNEc1QjJCLEtBQUssQ0FBQyxJQUNGLHFEQUFBcEMsQ0FBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksQ0FBQ1YsSUFBSSxDQUFDVyxVQUFMLEVBQUQsQ0FBb0JWLE1BQU0sQ0FBQ1UsVUFBUCxFQUFwQixDQUF5Q1QsT0FBTyxDQUFDUyxVQUFSLEVBQXpDLENBQVosRUFDS0gsSUFETCxDQUNVLElBQU0scURBQUFWLENBQUFBLFFBQVEsQ0FBQ2dELFVBQVQsR0FBcUIsQ0FEckMsRUFDc0MsQ0FGckMsQ0FBTCxDQUlILENBaEhPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKVxyXG5cclxuY29uc3QgeyBlbnY6IHsgVEVTVF9NT05HT0RCX1VSTCB9IH0gPSBwcm9jZXNzXHJcbmNvbnN0IHsgZXhwZWN0IH0gPSByZXF1aXJlKCdjaGFpJylcclxuY29uc3QgeyByYW5kb20sIGZsb29yIH0gPSBNYXRoXHJcbmNvbnN0IHNlYXJjaFRvaWxldHMgPSByZXF1aXJlKCcuL3NlYXJjaC10b2lsZXRzJylcclxuY29uc3QgeyBtb25nb29zZSwgbW9kZWxzOiB7IFVzZXIsIFRvaWxldCwgQ29tbWVudCB9IH0gPSByZXF1aXJlKCdwb29waW5pb24tZGF0YScpXHJcblxyXG5kZXNjcmliZSgnc2VhcmNoVG9pbGV0cycsICgpID0+IHtcclxuICAgIGJlZm9yZSgoKSA9PlxyXG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3QoVEVTVF9NT05HT0RCX1VSTCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiBQcm9taXNlLmFsbChbVXNlci5kZWxldGVNYW55KCksIFRvaWxldC5kZWxldGVNYW55KCksIENvbW1lbnQuZGVsZXRlTWFueSgpXSkpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHsgfSlcclxuICAgIClcclxuXHJcbiAgICBsZXQgbmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlciwgcXVlcnlcclxuICAgIGNvbnN0IEdFTkRFUlMgPSBbJ21hbGUnLCAnZmVtYWxlJywgJ25vbi1iaW5hcnknXVxyXG5cclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICAgIG5hbWUgPSBgbmFtZS0ke3JhbmRvbSgpfWBcclxuICAgICAgICBzdXJuYW1lID0gYHN1cm5hbWUtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgZW1haWwgPSBgZW1haWwtJHtyYW5kb20oKX1AbWFpbC5jb21gXHJcbiAgICAgICAgcGFzc3dvcmQgPSBgcGFzc3dvcmQtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgYWdlID0gZmxvb3IocmFuZG9tKCkgKiAxMjApXHJcbiAgICAgICAgZ2VuZGVyID0gR0VOREVSU1tmbG9vcihyYW5kb20oKSAqIEdFTkRFUlMubGVuZ3RoKV1cclxuICAgIH0pXHJcblxyXG4gICAgZGVzY3JpYmUoJ3doZW4gdG9pbGV0cyBjYW4gYmUgcmV0cmlldmVkJywgKCkgPT4ge1xyXG5cclxuICAgICAgICBiZWZvcmVFYWNoKCgpID0+XHJcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShVc2VyLmNyZWF0ZSh7IG5hbWUsIHN1cm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgYWdlLCBnZW5kZXIgfSkpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoeyBpZCB9KSA9PiBfaWQgPSBpZClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2lsZXRzID0gW11cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHVibGlzaGVyID0gX2lkLCBwbGFjZSA9IGAke2kgPj0gNSA/ICdob3VzZSBvZiAnIDogJ2hvbWUgb2YgJ30tJHtpfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9pbGV0cy5wdXNoKHsgcHVibGlzaGVyLCBwbGFjZSB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRvaWxldC5jcmVhdGUodG9pbGV0cylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7IH0pXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHN1Y2Nlc3NmdWxseSByZXRyaWV2ZSBhbGwgdG9pbGV0cyB0aGF0IG1hdGNoIHRoZSBxdWVyeSBcImhvbWVcIicsICgpID0+IHtcclxuICAgICAgICAgICAgcXVlcnkgPSAnaG9tZSdcclxuICAgICAgICAgICAgc2VhcmNoVG9pbGV0cyhxdWVyeSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3VsdHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXN1bHRzLmxlbmd0aCkudG8uZXF1YWwoNSlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKCh0b2lsZXQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdCh0b2lsZXQpLnRvLmJlLmluc3RhbmNlT2YoT2JqZWN0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHBsYWNlIH0gPSB0b2lsZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHBsYWNlKS50by5lcXVhbChgaG9tZSBvZiAtJHtpbmRleH1gKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4geyB9KVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgc3VjY2Vzc2Z1bGx5IHJldHJpZXZlIGFsbCB0b2lsZXRzIHRoYXQgbWF0Y2ggdGhlIHF1ZXJ5IFwiaG91c2VcIicsICgpID0+IHtcclxuICAgICAgICAgICAgcXVlcnkgPSAnaG91c2UnXHJcbiAgICAgICAgICAgIHNlYXJjaFRvaWxldHMocXVlcnkpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXN1bHRzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzdWx0cy5sZW5ndGgpLnRvLmVxdWFsKDUpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMuZm9yRWFjaCgodG9pbGV0LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QodG9pbGV0KS50by5iZS5pbnN0YW5jZU9mKE9iamVjdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwbGFjZSB9ID0gdG9pbGV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChwbGFjZSkudG8uZXF1YWwoYGhvdXNlIG9mIC0ke2luZGV4ICsgNX1gKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4geyB9KVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgc3VjY2Vzc2Z1bGx5IHJldHJpZXZlIGFsbCB0b2lsZXRzIHRoYXQgbWF0Y2ggdGhlIHF1ZXJ5IFwiaG9cIicsICgpID0+IHtcclxuICAgICAgICAgICAgcXVlcnkgPSAnaG8nXHJcbiAgICAgICAgICAgIHNlYXJjaFRvaWxldHMocXVlcnkpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXN1bHRzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzdWx0cy5sZW5ndGgpLnRvLmVxdWFsKDEwKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLmZvckVhY2goKHRvaWxldCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHRvaWxldCkudG8uYmUuaW5zdGFuY2VPZihPYmplY3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcGxhY2UgfSA9IHRvaWxldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QocGxhY2UpLnRvLmVxdWFsKGAke2luZGV4ID49IDUgPyBgaG91c2Ugb2YgLSR7aW5kZXh9YCA6IGBob21lIG9mIC0ke2luZGV4fWB9YClcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsgfSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHN1Y2Nlc3NmdWxseSByZXRyaWV2ZSBhbiBlbXB0eSBpZiB0aGUgcXVlcnkgZmluZCBubyBtYXRjaGVzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBxdWVyeSA9ICdzb21ldGhpbmctcmVhbGx5IFdyb25HIHRoYXQgc2hvdWxkIG4wdCBiZSBmQHVuZCdcclxuICAgICAgICAgICAgc2VhcmNoVG9pbGV0cyhxdWVyeSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3VsdHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXN1bHRzLmxlbmd0aCkudG8uZXF1YWwoMClcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzdWx0cykudG8uYmUuaW5zdGFuY2VPZihBcnJheSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7IH0pXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgZGVzY3JpYmUoJ3VuaGFwcHkgcGF0aHMnLCAoKSA9PiB7XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBmYWlsIG9uIGEgbm9uLXN0cmluZyBxdWVyeScsICgpID0+IHtcclxuICAgICAgICAgICAgcXVlcnkgPSA5MzI4NzQzMjg5XHJcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBzZWFyY2hUb2lsZXRzKHF1ZXJ5KSkudG8udGhyb3coVHlwZUVycm9yLCBgcXVlcnkgJHtxdWVyeX0gaXMgbm90IGEgc3RyaW5nYClcclxuXHJcbiAgICAgICAgICAgIHF1ZXJ5ID0gZmFsc2VcclxuICAgICAgICAgICAgZXhwZWN0KCgpID0+IHNlYXJjaFRvaWxldHMocXVlcnkpKS50by50aHJvdyhUeXBlRXJyb3IsIGBxdWVyeSAke3F1ZXJ5fSBpcyBub3QgYSBzdHJpbmdgKVxyXG5cclxuICAgICAgICAgICAgcXVlcnkgPSB1bmRlZmluZWRcclxuICAgICAgICAgICAgZXhwZWN0KCgpID0+IHNlYXJjaFRvaWxldHMocXVlcnkpKS50by50aHJvdyhUeXBlRXJyb3IsIGBxdWVyeSAke3F1ZXJ5fSBpcyBub3QgYSBzdHJpbmdgKVxyXG5cclxuICAgICAgICAgICAgcXVlcnkgPSBbXVxyXG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gc2VhcmNoVG9pbGV0cyhxdWVyeSkpLnRvLnRocm93KFR5cGVFcnJvciwgYHF1ZXJ5ICR7cXVlcnl9IGlzIG5vdCBhIHN0cmluZ2ApXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgYWZ0ZXIoKCkgPT5cclxuICAgICAgICBQcm9taXNlLmFsbChbVXNlci5kZWxldGVNYW55KCksIFRvaWxldC5kZWxldGVNYW55KCksIENvbW1lbnQuZGVsZXRlTWFueSgpXSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gbW9uZ29vc2UuZGlzY29ubmVjdCgpKVxyXG4gICAgKVxyXG59KSJdfQ==